(function(e){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(e){return e.duration*.05},defaultSeekForwardInterval:function(e){return e.duration*.05},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(e,t){t.paused||t.ended?t.play():t.pause()}},{keys:[38],action:function(e,t){var n=Math.min(t.volume+.1,1);t.setVolume(n)}},{keys:[40],action:function(e,t){var n=Math.max(t.volume-.1,0);t.setVolume(n)}},{keys:[37,227],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.max(t.currentTime-e.options.defaultSeekBackwardInterval(t),0);t.setCurrentTime(n)}}},{keys:[39,228],action:function(e,t){if(!isNaN(t.duration)&&t.duration>0){if(e.isVideo){e.showControls();e.startControlsTimer()}var n=Math.min(t.currentTime+e.options.defaultSeekForwardInterval(t),t.duration);t.setCurrentTime(n)}}},{keys:[70],action:function(e,t){typeof e.enterFullScreen!="undefined"&&(e.isFullScreen?e.exitFullScreen():e.enterFullScreen())}}]};mejs.mepIndex=0;mejs.players={};mejs.MediaElementPlayer=function(t,n){if(this instanceof mejs.MediaElementPlayer){var r=this;r.$media=r.$node=e(t);r.node=r.media=r.$media[0];if(typeof r.node.player!="undefined")return r.node.player;r.node.player=r;typeof n=="undefined"&&(n=r.$node.data("mejsoptions"));r.options=e.extend({},mejs.MepDefaults,n);r.id="mep_"+mejs.mepIndex++;mejs.players[r.id]=r;r.init();return r}return new mejs.MediaElementPlayer(t,n)};mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var t=this,n=mejs.MediaFeatures,r=e.extend(!0,{},t.options,{success:function(e,n){t.meReady(e,n)},error:function(e){t.handleError(e)}}),i=t.media.tagName.toLowerCase();t.isDynamic=i!=="audio"&&i!=="video";t.isDynamic?t.isVideo=t.options.isVideo:t.isVideo=i!=="audio"&&t.options.isVideo;if(n.isiPad&&t.options.iPadUseNativeControls||n.isiPhone&&t.options.iPhoneUseNativeControls){t.$media.attr("controls","controls");if(n.isiPad&&t.media.getAttribute("autoplay")!==null){t.media.load();t.media.play()}}else if(!n.isAndroid||!t.options.AndroidUseNativeControls){t.$media.removeAttr("controls");t.container=e('<div id="'+t.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'">'+'<div class="mejs-inner">'+'<div class="mejs-mediaelement"></div>'+'<div class="mejs-layers"></div>'+'<div class="mejs-controls"></div>'+'<div class="mejs-clear"></div>'+"</div>"+"</div>").addClass(t.$media[0].className).insertBefore(t.$media);t.container.addClass((n.isAndroid?"mejs-android ":"")+(n.isiOS?"mejs-ios ":"")+(n.isiPad?"mejs-ipad ":"")+(n.isiPhone?"mejs-iphone ":"")+(t.isVideo?"mejs-video ":"mejs-audio "));if(n.isiOS){var s=t.$media.clone();t.container.find(".mejs-mediaelement").append(s);t.$media.remove();t.$node=t.$media=s;t.node=t.media=s[0]}else t.container.find(".mejs-mediaelement").append(t.$media);t.controls=t.container.find(".mejs-controls");t.layers=t.container.find(".mejs-layers");var o=t.isVideo?"video":"audio",u=o.substring(0,1).toUpperCase()+o.substring(1);t.options[o+"Width"]>0||t.options[o+"Width"].toString().indexOf("%")>-1?t.width=t.options[o+"Width"]:t.media.style.width!==""&&t.media.style.width!==null?t.width=t.media.style.width:t.media.getAttribute("width")!==null?t.width=t.$media.attr("width"):t.width=t.options["default"+u+"Width"];t.options[o+"Height"]>0||t.options[o+"Height"].toString().indexOf("%")>-1?t.height=t.options[o+"Height"]:t.media.style.height!==""&&t.media.style.height!==null?t.height=t.media.style.height:t.$media[0].getAttribute("height")!==null?t.height=t.$media.attr("height"):t.height=t.options["default"+u+"Height"];t.setPlayerSize(t.width,t.height);r.pluginWidth=t.width;r.pluginHeight=t.height}mejs.MediaElement(t.$media[0],r);typeof t.container!="undefined"&&t.controlsAreVisible&&t.container.trigger("controlsshown")},showControls:function(e){var t=this;e=typeof e=="undefined"||e;if(t.controlsAreVisible)return;if(e){t.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0;t.container.trigger("controlsshown")});t.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){t.controlsAreVisible=!0})}else{t.controls.css("visibility","visible").css("display","block");t.container.find(".mejs-control").css("visibility","visible").css("display","block");t.controlsAreVisible=!0;t.container.trigger("controlsshown")}t.setControlsSize()},hideControls:function(t){var n=this;t=typeof t=="undefined"||t;if(!n.controlsAreVisible||n.options.alwaysShowControls)return;if(t){n.controls.stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block");n.controlsAreVisible=!1;n.container.trigger("controlshidden")});n.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){e(this).css("visibility","hidden").css("display","block")})}else{n.controls.css("visibility","hidden").css("display","block");n.container.find(".mejs-control").css("visibility","hidden").css("display","block");n.controlsAreVisible=!1;n.container.trigger("controlshidden")}},controlsTimer:null,startControlsTimer:function(e){var t=this;e=typeof e!="undefined"?e:1500;t.killControlsTimer("start");t.controlsTimer=setTimeout(function(){t.hideControls();t.killControlsTimer("hide")},e)},killControlsTimer:function(e){var t=this;if(t.controlsTimer!==null){clearTimeout(t.controlsTimer);delete t.controlsTimer;t.controlsTimer=null}},controlsEnabled:!0,disableControls:function(){var e=this;e.killControlsTimer();e.hideControls(!1);this.controlsEnabled=!1},enableControls:function(){var e=this;e.showControls(!1);e.controlsEnabled=!0},meReady:function(e,t){var n=this,r=mejs.MediaFeatures,i=t.getAttribute("autoplay"),s=typeof i!="undefined"&&i!==null&&i!=="false",o,u;if(n.created)return;n.created=!0;n.media=e;n.domNode=t;if((!r.isAndroid||!n.options.AndroidUseNativeControls)&&(!r.isiPad||!n.options.iPadUseNativeControls)&&(!r.isiPhone||!n.options.iPhoneUseNativeControls)){n.buildposter(n,n.controls,n.layers,n.media);n.buildkeyboard(n,n.controls,n.layers,n.media);n.buildoverlays(n,n.controls,n.layers,n.media);n.findTracks();for(o in n.options.features){u=n.options.features[o];if(n["build"+u])try{n["build"+u](n,n.controls,n.layers,n.media)}catch(a){}}n.container.trigger("controlsready");n.setPlayerSize(n.width,n.height);n.setControlsSize();if(n.isVideo){if(mejs.MediaFeatures.hasTouch)n.$media.bind("touchstart",function(){n.controlsAreVisible?n.hideControls(!1):n.controlsEnabled&&n.showControls(!1)});else{mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){n.options.clickToPlayPause&&(n.media.paused?n.media.play():n.media.pause())};n.media.addEventListener("click",n.clickToPlayPauseCallback,!1);n.container.bind("mouseenter mouseover",function(){if(n.controlsEnabled&&!n.options.alwaysShowControls){n.killControlsTimer("enter");n.showControls();n.startControlsTimer(2500)}}).bind("mousemove",function(){if(n.controlsEnabled){n.controlsAreVisible||n.showControls();n.options.alwaysShowControls||n.startControlsTimer(2500)}}).bind("mouseleave",function(){n.controlsEnabled&&!n.media.paused&&!n.options.alwaysShowControls&&n.startControlsTimer(1e3)})}n.options.hideVideoControlsOnLoad&&n.hideControls(!1);s&&!n.options.alwaysShowControls&&n.hideControls();n.options.enableAutosize&&n.media.addEventListener("loadedmetadata",function(e){if(n.options.videoHeight<=0&&n.domNode.getAttribute("height")===null&&!isNaN(e.target.videoHeight)){n.setPlayerSize(e.target.videoWidth,e.target.videoHeight);n.setControlsSize();n.media.setVideoSize(e.target.videoWidth,e.target.videoHeight)}},!1)}e.addEventListener("play",function(){var e;for(e in mejs.players){var t=mejs.players[e];t.id!=n.id&&n.options.pauseOtherPlayers&&!t.paused&&!t.ended&&t.pause();t.hasFocus=!1}n.hasFocus=!0},!1);n.media.addEventListener("ended",function(e){if(n.options.autoRewind)try{n.media.setCurrentTime(0)}catch(t){}n.media.pause();n.setProgressRail&&n.setProgressRail();n.setCurrentRail&&n.setCurrentRail();n.options.loop?n.media.play():!n.options.alwaysShowControls&&n.controlsEnabled&&n.showControls()},!1);n.media.addEventListener("loadedmetadata",function(e){n.updateDuration&&n.updateDuration();n.updateCurrent&&n.updateCurrent();if(!n.isFullScreen){n.setPlayerSize(n.width,n.height);n.setControlsSize()}},!1);setTimeout(function(){n.setPlayerSize(n.width,n.height);n.setControlsSize()},50);n.globalBind("resize",function(){n.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||n.setPlayerSize(n.width,n.height);n.setControlsSize()});n.media.pluginType=="youtube"&&n.container.find(".mejs-overlay-play").hide()}if(s&&e.pluginType=="native"){e.load();e.play()}n.options.success&&(typeof n.options.success=="string"?window[n.options.success](n.media,n.domNode,n):n.options.success(n.media,n.domNode,n))},handleError:function(e){var t=this;t.controls.hide();t.options.error&&t.options.error(e)},setPlayerSize:function(t,n){var r=this;typeof t!="undefined"&&(r.width=t);typeof n!="undefined"&&(r.height=n);if(r.height.toString().indexOf("%")>0||r.$node.css("max-width")==="100%"||parseInt(r.$node.css("max-width").replace(/px/,""),10)/r.$node.offsetParent().width()===1||r.$node[0].currentStyle&&r.$node[0].currentStyle.maxWidth==="100%"){var i=r.isVideo?r.media.videoWidth&&r.media.videoWidth>0?r.media.videoWidth:r.options.defaultVideoWidth:r.options.defaultAudioWidth,s=r.isVideo?r.media.videoHeight&&r.media.videoHeight>0?r.media.videoHeight:r.options.defaultVideoHeight:r.options.defaultAudioHeight,o=r.container.parent().closest(":visible").width(),u=r.isVideo||!r.options.autosizeProgress?parseInt(o*s/i,10):s;if(r.container.parent()[0].tagName.toLowerCase()==="body"){o=e(window).width();u=e(window).height()}if(u!=0&&o!=0){r.container.width(o).height(u);r.$media.add(r.container.find(".mejs-shim")).width("100%").height("100%");r.isVideo&&r.media.setVideoSize&&r.media.setVideoSize(o,u);r.layers.children(".mejs-layer").width("100%").height("100%")}}else{r.container.width(r.width).height(r.height);r.layers.children(".mejs-layer").width(r.width).height(r.height)}var a=r.layers.find(".mejs-overlay-play"),f=a.find(".mejs-overlay-button");a.height(r.container.height()-r.controls.height());f.css("margin-top","-"+(f.height()/2-r.controls.height()/2).toString()+"px")},setControlsSize:function(){var t=this,n=0,r=0,i=t.controls.find(".mejs-time-rail"),s=t.controls.find(".mejs-time-total"),o=t.controls.find(".mejs-time-current"),u=t.controls.find(".mejs-time-loaded"),a=i.siblings();t.options&&!t.options.autosizeProgress&&(r=parseInt(i.css("width")));if(r===0||!r){a.each(function(){var t=e(this);t.css("position")!="absolute"&&t.is(":visible")&&(n+=e(this).outerWidth(!0))});r=t.controls.width()-n-(i.outerWidth(!0)-i.width())}i.width(r);s.width(r-(s.outerWidth(!0)-s.width()));t.setProgressRail&&t.setProgressRail();t.setCurrentRail&&t.setCurrentRail()},buildposter:function(t,n,r,i){var s=this,o=e('<div class="mejs-poster mejs-layer"></div>').appendTo(r),u=t.$media.attr("poster");t.options.poster!==""&&(u=t.options.poster);u!==""&&u!=null?s.setPoster(u):o.hide();i.addEventListener("play",function(){o.hide()},!1);t.options.showPosterWhenEnded&&t.options.autoRewind&&i.addEventListener("ended",function(){o.show()},!1)},setPoster:function(t){var n=this,r=n.container.find(".mejs-poster"),i=r.find("img");i.length==0&&(i=e('<img width="100%" height="100%" />').appendTo(r));i.attr("src",t);r.css({"background-image":"url("+t+")"})},buildoverlays:function(t,n,r,i){var s=this;if(!t.isVideo)return;var o=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(r),u=e('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(r),a=e('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(r).click(function(){s.options.clickToPlayPause&&(i.paused?i.play():i.pause())});i.addEventListener("play",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},!1);i.addEventListener("playing",function(){a.hide();o.hide();n.find(".mejs-time-buffering").hide();u.hide()},!1);i.addEventListener("seeking",function(){o.show();n.find(".mejs-time-buffering").show()},!1);i.addEventListener("seeked",function(){o.hide();n.find(".mejs-time-buffering").hide()},!1);i.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||a.show()},!1);i.addEventListener("waiting",function(){o.show();n.find(".mejs-time-buffering").show()},!1);i.addEventListener("loadeddata",function(){o.show();n.find(".mejs-time-buffering").show()},!1);i.addEventListener("canplay",function(){o.hide();n.find(".mejs-time-buffering").hide()},!1);i.addEventListener("error",function(){o.hide();n.find(".mejs-time-buffering").hide();u.show();u.find("mejs-overlay-error").html("Error loading this resource")},!1)},buildkeyboard:function(t,n,r,i){var s=this;s.globalBind("keydown",function(e){if(t.hasFocus&&t.options.enableKeyboard)for(var n=0,r=t.options.keyActions.length;n<r;n++){var s=t.options.keyActions[n];for(var o=0,u=s.keys.length;o<u;o++)if(e.keyCode==s.keys[o]){e.preventDefault();s.action(t,i,e.keyCode);return!1}}return!0});s.globalBind("click",function(n){e(n.target).closest(".mejs-container").length==0&&(t.hasFocus=!1)})},findTracks:function(){var t=this,n=t.$media.find("track");t.tracks=[];n.each(function(n,r){r=e(r);t.tracks.push({srclang:r.attr("srclang")?r.attr("srclang").toLowerCase():"",src:r.attr("src"),kind:r.attr("kind"),label:r.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(e){this.container[0].className="mejs-container "+e;this.setPlayerSize(this.width,this.height);this.setControlsSize()},play:function(){this.media.play()},pause:function(){try{this.media.pause()}catch(e){}},load:function(){this.media.load()},setMuted:function(e){this.media.setMuted(e)},setCurrentTime:function(e){this.media.setCurrentTime(e)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(e){this.media.setVolume(e)},getVolume:function(){return this.media.volume},setSrc:function(e){this.media.setSrc(e)},remove:function(){var e=this,t,n;for(t in e.options.features){n=e.options.features[t];if(e["clean"+n])try{e["clean"+n](e)}catch(r){}}if(!e.isDynamic){e.$media.prop("controls",!0);e.$node.clone().show().insertBefore(e.container);e.$node.remove()}else e.$node.insertBefore(e.container);e.media.pluginType!=="native"&&e.media.remove();delete mejs.players[e.id];e.container.remove();e.globalUnbind();delete e.node.player}};(function(){function n(n,r){var i={d:[],w:[]};e.each((n||"").split(" "),function(e,n){var s=n+"."+r;if(s.indexOf(".")===0){i.d.push(s);i.w.push(s)}else i[t.test(n)?"w":"d"].push(s)});i.d=i.d.join(" ");i.w=i.w.join(" ");return i}var t=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(t,r,i){var s=this;t=n(t,s.id);t.d&&e(document).bind(t.d,r,i);t.w&&e(window).bind(t.w,r,i)};mejs.MediaElementPlayer.prototype.globalUnbind=function(t,r){var i=this;t=n(t,i.id);t.d&&e(document).unbind(t.d,r);t.w&&e(window).unbind(t.w,r)}})();typeof jQuery!="undefined"&&(jQuery.fn.mediaelementplayer=function(e){e===!1?this.each(function(){var e=jQuery(this).data("mediaelementplayer");e&&e.remove();jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,e))});return this});e(document).ready(function(){e(".mejs-player").mediaelementplayer()});window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);